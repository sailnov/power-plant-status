(function(t,e,h,r){t.fn.rakslider=function(p){function h(c){var g=c.selector.split("#"),n="wrapmama";2<=g.length&&(n=g[1]+"mama");var g=c.offset(),f=c.outerWidth(),l=c.outerHeight();c.wrap("<div id="+n+">");c=t("div#"+n);X=t('<div class="rak_progress"><p class="rak_progtext"></p><div class="rak_progbar"><span></span></div></div>');X.css({width:0.6*f,top:g.top+l/2-20,left:g.left+0.2*f});X.appendTo(c)}function n(){function n(a,b,d){function m(){Ba=setTimeout(function(){p(x.index()+1)},500)}0<c.minscale&&
(d=Math.max(c.minscale,d));g.inscaling=!0;g.curscale=d;"doing"===B?B="ending":(clearTimeout(Ba),0<K&&clearTimeout(K),h(),g.width=Math.floor(c.width*d),g.height=Math.floor(c.height*d),g.scaled=1>d,a=g.height,"thumb"===c.controller&&(a+=D.outerHeight()),v.css({width:g.width,height:a}),Ca(!0),Da(!0),Ea(ea,c.controllerpos,!0),y(!0),g.inscaling=!1,B="none",m())}function p(a){if(a!==x.index())if(a>=q.length&&(a=0),ma(),"none"!=B)aa.push(a),B="ending";else{0<aa.length&&(a=aa.pop(),aa.length=0);Y||h();clearTimeout(K);
K=0;c.slideall?(x=q.eq(a),I="shift"):(q.removeClass("reset"),x.toggleClass("active reset"),J=x,x=q.eq(a).addClass("active"),x.children().hide());switch(c.controller){case "thumb":elm=A.eq(a);Fa(elm);Ga(a);break;case "dot":case "num":E.removeClass("stay"),E.eq(a).addClass("stay")}Wa();sa(ta)}}function h(){x.find("span.rk_slides_span").fadeOut("fast");if(c.showbanner){var a=na[x.index()];a&&(ps=a.ps,F?a.stop(!0,!0).animate({left:ps.x-80,top:ps.y-80},{duration:200}).animate({top:ps.y-180},{duration:100,
queue:!0,complete:function(){Ha(a,0);a.hide()}}):a.stop(!0,!0).rotate({duration:200,animateTo:0}))}}function y(a){var b=-g.width;G.css({width:g.width,height:g.height});a&&ua.width(g.width).height(g.height);var d=q.find("span");switch(I){case "shift":q.css("margin-bottom",0);a||(d.addClass("rk_slides_span rk_slides_shiftspan"),F&&d.addClass("rk_slides_span_bgIE8"));d.css({width:g.width-20});oa=[];var m=0;q.each(function(a){oa[a]=m;m+=t(this).outerWidth()});b=-m+g.width;break;default:if(!a){d.addClass("rk_slides_span rk_slides_blockspan");
F&&d.addClass("rk_slides_span_bgIE8");switch(c.cmteffect){case "custom":case "customl":case "customr":a={width:g.width*c.cmtwidth,bottom:30,left:0},"customr"===c.cmteffect&&(a.left=g.width*(1-c.cmtwidth)),d.css(a)}q.first().find("span").css("display","block");q.addClass("rk_slides_li_block");q.children().hide()}}L.css({width:m+g.width,cursor:"pointer"});ua.on({click:function(){var a=q.eq(x.index()).find("a");if(a&&0<a.length){var b=a.attr("href");0<b.length&&"#"!==b&&Ia(b,a.attr("target"))}}});c.showbanner&&
q.each(function(a){var b=t(this),d=b.find("a"),m=null;if(d&&0<d.length&&(d=d.data("topic"))&&0<d.length){m=t("<span><p>"+d+"</p></span>").addClass("rk_topicbase rk_topic1");m.insertAfter(ua.eq(a));var g=d=0;c.slideall&&(b=b.position(),d=b.left,g=b.top);F?(m.addClass("rk_topicIE8"),b={x:d-25,y:g-25},m.css({left:b.x-80,top:b.y-180})):(b={x:d-85,y:g-36},m.css({left:b.x,top:b.y}));m.ps=b;m.hide()}na[a]=m});(function(a){L.rakWipe({wipeStart:function(a,b,d,c){d.curpos=parseInt(d.css("marginLeft"));a=d.filter(":not(:animated)");
0===a.length?B="none":0<K&&(clearTimeout(K),K=0);return 0<a.length},wipeMove:function(b,d,c,m){"shift"===I&&(b=c.curpos-(b.X-d.X),0<=b?b=0:b<=a&&(b=a),c.css({marginLeft:b}))},wipeEnd:function(a,b,d,c){a=a.X-b.X;var m=b=x.index();c=c.timeStamp-d.startTime;0>a?m--:0<a&&m++;0>m?m=0:m>=q.length&&(m=q.length-1);switch(I){case "shift":d.stop(!0,!0).animate({marginLeft:-oa[m]},{complete:function(){B="none";p(m)}});break;default:p(m)}ga&&(300>c&&b===m)&&sa(!Ja);Q&&Ka()}})})(b)}function Va(a,b,d,c,w){a.rakWipe({wipeStart:function(a,
c,m,g){m.curpos=parseInt(m.css("marginLeft"));m.leftid=Math.floor(-m.curpos/d);m.pressid=Math.floor((a.X-m.curpos-b.offset().left)/d);return 0<m.filter(":not(:animated)").length},wipeMove:function(a,b,d,w){a=d.curpos-(a.X-b.X);0<=a?a=0:a<=c&&(a=c);g.width<C*A.length&&d.css({marginLeft:a})},wipeEnd:function(a,b,m,c){a=a.X-b.X;b=m.leftid;var fa=Math.max(1,Math.ceil(Math.abs(a)/d));0>a?b=Math.max(0,m.leftid-fa):0<a&&(b=Math.min(A.length-M,m.leftid+fa));g.width<C*A.length&&m.stop().animate({marginLeft:-R[b]});
jQuery.isFunction(w)&&(ga&&500>c.timeStamp-m.startTime)&&w(m.pressid)},mouseEvents:!0})}function Ga(a){if(!(g.width>C*A.length)){var b=-parseInt(N.css("marginLeft")),b=Math.floor(b/C);b<a&&a<b+M-1||(a-=Math.floor(M/2),0>a?a=0:a>=ba&&(a=ba),a!==b&&N.stop().animate({marginLeft:-R[a]}))}}function Ea(a,b,d){function m(a,b,d,m){this.id=-1;k(b,this);d.filter(":not(:animated)");return!0}function w(a,b,d,m){k(b,this)}function u(a,b,d,m){n(this.id)}function s(){for(var a=E.eq(0).position(),b=1;b<E.length;b++){var d=
E.eq(b).position();d.top!=a.top&&(a=d,r++,0===h&&(h=b))}1===r&&(h=E.length)}function k(a,b){b.posx=a.X-x.left;b.posy=a.Y-x.top;var d=Math.floor(b.posx/v)+Math.floor(b.posy/y)*h;if(b.id!=d){b.id=d;E.removeClass("stay");E.eq(d).addClass("stay");pa();A.eq(d);var m=0;"num"===c.controller&&(m=isNaN(c.controllerpos.bottom)?3:-10);N.stop().animate({"margin-left":-R[d]},{duration:c.thumbspeed});D.stop().animate({left:b.posx+Z.x,top:Z.y+m},{duration:c.thumbspeed})}}function n(a){da();E.removeClass("stay");
E.eq(a).addClass("stay");p(a)}function fa(a){pa();var b=a.index();N.stop().animate({"margin-left":-R[b]},{duration:c.thumbspeed});a=a.position();b=0;"num"===c.controller&&(b=isNaN(c.controllerpos.bottom)?3:-10);D.stop().animate({left:a.left+Z.x,top:Z.y+b},{duration:c.thumbspeed})}var S=c.controller,f=b.centerx;if("thumb"!==S&&"none"!==S){var l="";if(!d){if(va="num"===S&&F){for(var l='<div id="control_body"><ul>',e=0;e<q.length;e++)l+="<li>"+(e+1)+"</li>";l+='</ul></div><div id="control_base"></div>'}else{l=
'<div id="control_body"><div id="control_base"></div><ul>';for(e=0;e<q.length;e++)l+="<li>"+(e+1)+"</li>";l+="</ul></div>"}t(l).appendTo(a);z=a.find("div#control_body");O=a.find("div#control_base");O.addClass("rk_control_base_attr")}a=z.find("ul");a.css({margin:0,padding:0});E=z.find("li");ctrl_num=E.length;if(!d)switch(S){case "num":O.addClass("rk_box_kageattr");ga?z.addClass("rk_ctrlnum_iPad"):z.addClass("rk_control_num");E.addClass("rk_box_kageattr");break;case "dot":O.hide(),z.addClass("rk_control_dot"),
E.css("text-indent",-9999)}l=E.eq(0);l=l.outerWidth()+parseInt(l.css("margin-Right"));d?(d=g.width-(isNaN(b.top)?0:T)-20,l=g.ctrl_initwidth,z.width(l>d?d:l),d=z.outerWidth()):(d=c.width-(isNaN(b.top)?0:T)-20,l=ctrl_num*l+20,d=l>d?d:l,z.width(d),d=z.outerWidth(),g.ctrl_initwidth=d);l=z.outerWidth();e=0;f?e=10:isNaN(b.right)?isNaN(b.left)||(e=b.left):e=b.right;l+=e;isNaN(b.top)||(d+T>=g.width&&(d=g.width-T),20>d&&(ctlwd=g.width));l>d&&(l=Math.floor(d-e));z.css({width:l});z.css(b);var r=1,h=0;s();"dot"===
S&&(isNaN(b.top)&&1<r)&&z.css({bottom:b.bottom+z.outerHeight()*(r-1)});d=la(z);l=E.eq(h-1);d.w=l.position().left+l.outerWidth();f?z.css({left:T+(g.width-T-d.w)/2}):!isNaN(b.left)&&T&&z.css({left:T+b.left});d=la(z);d.w=l.position().left+l.outerWidth()+4;ca=d;va?O.css({left:d.x-5,top:d.y-4,width:d.w+7,height:7>=U?d.h+8:d.h+5,opacity:0.4,"z-index":204}):O.css({left:-6,top:-4,width:d.w+8,height:d.h+6,opacity:0.4});S="num"===S?D.height()-2:D.height()+4;b=isNaN(b.bottom)?d.y+d.h+2:d.y-S;Z={x:d.x-D.width()/
2,y:b};D.css({left:Z.x,top:Z.y});var v=z.outerWidth()/h,y=z.outerHeight()/r,x=z.offset();O.on({mouseover:function(a){pa()},mouseout:function(a){(0>a.offsetX||a.offsetX>=ca.w||0>a.offsetY||a.offsetY>=ca.h)&&ma()}});E.on({click:function(){n(t(this).index())},mouseover:function(){fa(t(this))}});a.rakWipe({wipeStart:m,wipeMove:w,wipeEnd:u,mouseEvents:!1});A.on({click:function(){p(t(this).index())},mouseover:function(){fa(t(this))}});D.on({mouseover:function(){pa()},mouseout:function(){ma()}})}}function da(){if(c.autoslideshow)switch(c.autoslidepause){case 1:Q=
!1;break;case 2:Q=!1,clearTimeout(wa),wa=setTimeout(function(){clearTimeout(wa);Q=!0;p(x.index()+1)},c.autopause_interval)}}function la(a){wd=a.outerWidth();ht=a.outerHeight();pos=a.position();return{x:pos.left,y:pos.top,w:wd,h:ht,x1:pos.left+wd,y1:pos.top+ht}}function Ca(a){switch(c.controller){case "thumb":Xa(a);break;case "dot":case "num":a||Ya();break;default:c.controller="none"}}function Ya(){var a=V.addClass("rk_photo_frame").eq(0),b=b=c.thumbborderwidth;0<b&&V.css({border:"solid "+b+"px "+
c.thumbbordercolor});var d=0;C=Math.floor(a.outerWidth());La=Math.floor(a.outerHeight());F&&(C=c.thumb.width+2*b);A.each(function(a){R[a]=d;d+=C});N.css("width",d);D.css({width:C,height:La}).addClass("rk_box_kageattr").hide()}function pa(){D.stop().show().css({opacity:1})}function ma(){E&&D.animate({opacity:0},t.fn.fast)}function Xa(a){function b(a,b){F||(V.removeClass("rk_imghover"),b&&a.find("img").addClass("rk_imghover"))}var d=F?6:10;if(a)D.css({width:g.width,height:s,left:0,top:g.height,"padding-top":d,
opacity:1}),0===ba&&(a=(g.width-C*A.length)/2,0>a&&(a=0),N.css({"margin-left":a})),M=Math.floor(g.width/C);else{var m=g.width,w=c.thumbborderwidth;a||(F?(A.addClass("rk_thumb_frame_ie8"),A.css({padding:5+w})):V.addClass("rk_thumb_frame"));var u=V.eq(0),s=c.thumb.height,k=c.thumb.titleheight+w;(0<w||c.thumbporaloid)&&!F&&(V.css({border:"solid "+w+"px "+c.thumbbordercolor}),c.thumbporaloid&&V.css({"border-bottom":"solid "+k+"px "+c.thumbbordercolor}));u=u.outerWidth();F&&(s+=6);D.css({width:g.width,
height:s,left:0,top:g.height,"padding-top":d,opacity:1});!a&&5<=U&&D.addClass("rk_thumbbg_ie");a||(ha=g.height+Math.floor(D.outerHeight()),v.css({height:ha}),c.showthumbtitle&&A.each(function(a){a=t(this);var b=a.find("img"),d=b.attr("title");d!==r&&(t('<span><p class="rk_span_h2">'+d+"</p></span>").insertAfter(b),a=a.find("span>p"),a.css({"text-align":"center"}),F?(b=5+c.thumbtitleoffset,a.css({marginTop:b+"px"})):(b=c.thumbporaloid?k+w-4:w-3,b-=c.thumbtitleoffset,a.css({marginTop:-b+"px",marginLeft:w})))}));
M=Math.floor(m/(u+10));0<M?(a=(m-M*u)/(2*M),F&&(a-=w+5),A.css({"margin-left":a,"margin-right":a}),C=2*a+u):C=u+parseFloat(A.css("margin-left"))+parseFloat(A.css("margin-right"));C=Math.round(C);var l=0;R=[];F&&(C+=2*w);A.each(function(a){var b=t(this);b.css({left:l});R[a]=b.position().left;l+=C});ba=M>A.length?0:A.length-M;Ma=R[ba];d=-Ma;0<ba?N.css("width",C*A.length+2560):(a=parseInt((g.width-C*A.length)/2),N.css({"margin-left":a}));A.on({click:function(){var a=t(this);Na(a.index())},mouseover:function(){b(t(this),
!0)},mouseout:function(){b(t(this),!1)}});Va(N,D,C,d,Na)}}function Na(a){var b=A.eq(a);da();Fa(b);Ga(a);p(a)}function Fa(a){F?(A.removeClass("active"),a.addClass("active")):(a=a.find("img"),V.removeClass("rk_imgactive"),a.addClass("rk_imgactive"))}function xa(a){X&&(X.remove(),v.unwrap(),X=null);g.inscaling&&n(0,0,g.curscale);a.show();a=v.find(".dispcell");0<a.length&&a.remove();for(a=0;a<l.length;a++)l[a].remove();l.length=0;B="none";0<aa.length?p(aa.pop()):Q&&Ka()}function Ka(){K=setTimeout(function(){p(x.index()+
1)},c.slideshow_interval)}function Wa(){function a(a){for(var b,d=0;d<ya.length;d++)if(b=ya[d],a>=b.topid&&a<b.topid+b.num){b.id=a-b.topid;break}return b}var b,d=x.find("img");if(Y)b={eft:"fade",id:0,invert:!1};else if(c.slideall)b={eft:"slideall",id:0,invert:!1},I="shift";else if(1<c.effectseq.length){var m=c.effectseq[x.index()%c.effectseq.length];b=a(0<=m?m:-m);b.invert=0>m}else b=a(Math.floor(Math.random()*qa)),b.invert=0.5<Math.random();m=b.eft;if(g.scaled)switch(b.eft){case "popblock":case "dropblock":m=
"cube";break;case "divcorner":m="divparts"}switch(m){case "slideall":ia(d);break;case "fade":ja(d,"fade",0);break;case "shift":Za(d,b.id);break;case "stripe":$a(d,b.id,b.invert);break;case "cube":ab(d,b.id,b.invert);break;case "popblock":bb(d,b.id,b.invert);break;case "door":cb(d,b.id,b.invert);break;case "dropblock":db(d,b.id,b.invert);break;case "foldscreenh":Oa(d,b.id+2,b.invert);break;case "foldscreenv":Oa(d,b.id,b.invert);break;case "shiftscreen":eb(d);break;case "divparts":Pa(d,0);break;case "divpartsh":Pa(d,
1);break;case "divcorner":fb(d);break;case "none":I="none",ia(d)}}function W(a){function b(){if(c.showbanner){var a=na[x.index()];if(a&&"doing"==B){var b=a.ps;a.show();F?(Ha(a,-45),a.css({left:b.x-80,top:b.y-80}),a.stop(!0,!0).animate({left:a.ps.x,top:a.ps.y},{duration:300,easing:"easeOutElastic"})):(a.css({left:b.x,top:b.y}),a.stop(!0,!0).rotate({duration:300,angle:0,animateTo:-45}))}}}var d=800;"doing"!=B&&(d=100);clearInterval(ka);setTimeout(function(){var d=x.find("span.rk_slides_span"),w={opacity:1},
u;if(0<d.length&&"doing"===B){var s=g.width;switch(c.cmteffect){case "down":u=parseInt(d.css("height"));var k=c.showbanner&&na[x.index()]?140:15;d.css({height:u,width:s,"padding-left":k});break;default:u=d.outerHeight()}if(c.slideall){F&&(w={});switch(c.cmteffect){case "down":d.css("marginTop",-g.height-u).show();w.marginTop=-g.height-10;break;case "up":d.css("marginTop",0).show();w.marginTop=-u;break;case "custom":case "customl":case "customr":k=0;k=g.width*(1-c.cmtwidth);switch(c.cmteffect){case "customl":k=
0;break;case "customr":break;default:k=0.5>Math.random()?0:k}d.css({marginLeft:k,marginTop:0,width:s*c.cmtwidth}).show();w.marginTop=-u-30;break;case "left":case "right":d.css({marginTop:-u,marginLeft:-g.width}).show();w.marginLeft=0;break;case "fade":case "none":d.css({marginTop:-u,opacity:0}).show()}I="shift"}else switch(F?(d.css({left:0,bottom:0}).show(),animCSS={opacity:1}):d.css({opacity:0,left:0,bottom:0}).show(),a.show(),c.cmteffect){case "down":d.css("top",-u);w.top=0;break;case "up":d.css("bottom",
-u);w.bottom=0;break;case "custom":case "customl":case "customr":w.bottom=30;k=g.width*(1-c.cmtwidth);switch(c.cmteffect){case "customl":w.left=0;break;case "customr":d.css({left:k});w.left=k;break;default:0.5>Math.random()?w.left=0:(d.css({left:k}),w.left=k)}d.css("width",s*c.cmtwidth).show();break;case "left":d.css("left",-g.width);w.left=0;break;case "right":d.css("left",g.width);w.left=0;break;case "fade":case "none":d.css({opacity:0})}"none"===c.cmteffect?(b(),a&&xa(a)):d.animate(w,{complete:function(){b();
a&&xa(a)}})}else b(),a&&xa(a)},d)}function ia(a,b,d,m,g){var u=0,s=0,k=b,n=!1;if(Y)Y=!1,a.show(),v.animate({opacity:1},{duration:1E3,complete:function(){W(a)}});else switch(I){case "none":W(a);break;case "shift":b=x.index();B="doing";var f=L.filter(":not(:animated)");0<f.length?f.stop(!0,!0).stop(!0,!0).animate({marginLeft:-oa[b]},{complete:function(){W(a)}}):W(a);break;case "custom":b=2*c.transitduration;for(u=0;u<l.length;u++)m&&m.length==l.length&&(k=m[u]),l[u].stop(!0,!0).animate(k,{duration:b,
easing:d,complete:function(){++s>=l.length&&W(a)}}),g&&l[u].rotate({duration:b,angle:270,animateTo:0,queue:!0});break;case "foldscreen":var e=200;ka=setInterval(function(){m&&m.length==l.length&&(k=m[u]);var b=c.transit.accel,b=0.5>=b?0:e/(l.length*b)*u,b=1.5*c.transitduration-b,b=100<=b?b:100;l[u].stop(!0,!0).animate(k,{duration:b,easing:d,complete:function(){!n&&(++s>=l.length||"doing"!=B)&&(n=!0,W(a))}});u++;u>=l.length&&clearInterval(ka)},e);break;default:e=1==l.length?c.transitduration:80,ka=
setInterval(function(){m&&m.length==l.length&&(k=m[u]);var b=c.transit.accel,b=0.5>=b?0:c.transitduration/(l.length*b)*u,b=c.transitduration-b,b=100<=b?b:100;l[u].stop(!0,!0).animate(k,{duration:b,easing:d,complete:function(){!n&&(++s>=l.length||"doing"!=B)&&(n=!0,W(a))}});g&&l[u].rotate({duration:b,angle:270,animateTo:0,queue:!0});u++;u>=l.length&&clearInterval(ka)},e)}}function Za(a,b){ja(a,"fade",b%8+1)}function $a(a,b,d){b%=6;3>b?ja(a,"stripev",b,d):ja(a,"stripeh",b-3,d)}function ab(a,b,d){ja(a,
"cube",b%7,d)}function bb(a,b,d){var c;switch(b%4){case 0:c=b=!1;break;case 1:b=!0;c=!1;break;case 2:b=!1;c=!0;break;default:c=b=!0}g.scaled&&(d=!0);gb(a,b,c,d)}function cb(a,b,d){Qa(a,b%2,d)}function db(a,b,d){g.scaled&&(d=!0);Qa(a,b%9+2,d)}function Qa(a,b,d,m){P("easeOutCirc");switch(b){case 0:case 1:I="custom";break;default:I="block"}Ra(a,b,d,m,c)}function Oa(a,b,d){myopts={blocksize:{width:g.width,height:g.height,bandsize:30},stdblocksize:{width:100,height:100,bandsize:30}};switch(b){case 0:case 1:myopts.blocksize.height/=
3;break;case 2:case 3:myopts.blocksize.width/=3}P("easeOutBack");I="foldscreen";Ra(a,b+2,!1,!1,myopts)}function Ra(a,b,d,c,w){Y&&d&&(d=!1);B="doing";var u=a.parent(),s=J.find("img"),s=d?s.attr("src"):a.attr("src"),k=g.width,n=g.height;switch(b){case 0:k=g.width/2;w={opacity:1,marginLeft:0};break;case 1:n=g.height/2;w={opacity:1,marginTop:0};break;default:0!==w.blocksize.width?(k=w.blocksize.width,n=w.blocksize.height):(k=w.stdblocksize.width,n=w.stdblocksize.height),w={opacity:1,marginTop:0}}H=t("<div />",
{css:{position:"absolute","background-image":"url("+s+")",zIndex:99,width:k,height:n}}).addClass("dispcell");!g.scaled||k!==g.width&&n!=g.height||H.css({"background-size":"cover"});var f=l.length=0,e=0,p=0,s=[],r=[],q=[],h;switch(b){case 1:for(;f<g.width;){for(e=0;e<g.height;)q[p]={left:f,top:e,backgroundPosition:-f+"px "+-e+"px"},h=0==e?{marginTop:-n}:{marginTop:n},r[p++]=h,e+=n;f+=k}break;default:for(;e<g.height;){for(f=0;f<g.width;){q[p]={left:f,top:e,backgroundPosition:-f+"px "+-e+"px"};switch(b){case 0:h=
0==f?{marginLeft:-k}:{marginLeft:k};break;default:switch(c&&(q[p].left+=Math.floor(20*Math.random())-10,q[p].top+=Math.floor(20*Math.random())-10),b){case 2:h={top:g.height};break;case 3:h={top:-n};break;case 4:h={left:g.width};break;case 5:h={left:-k};break;case 6:h={left:-k,top:-n};break;case 7:h={left:-k,top:g.height};break;case 8:h={left:g.width,top:-n};break;case 9:h={left:g.width,top:g.height};break;case 10:h={left:(g.width-k)/2,top:(g.height-n)/2}}}r[p++]=h;f+=k}e+=n}}2<=b&&(q=za(q));for(k=
0;k<q.length;k++)h=2<=b?q.length-1-k:k,c=d?w:r[h],d?r[h].opacity=0:c.opacity=0,!d&&2<=b&&(s[h]={opacity:1,marginTop:0,left:q[h].left,top:q[h].top}),l[h]=H.clone().css(q[h]).css(c),u.append(l[h]);q.length=0;!Y&&d&&u.children().show();d?s.length=0:r.length=0;ia(a,w,$,0<s.length?s:r)}function gb(a,b,d,m){var n,u;n=c.blocksize.width;u=c.blocksize.height;var s=Math.ceil(g.width/n),k=Math.ceil(g.height/u),f=function(){for(var a=[],b=0;b<s;b++)for(var d=0;d<k;d++)a[d*s+b]={left:n*b,top:u*d,opacity:1};return a}(),
e=za(f);I=b?"block":"custom";B="doing";b=a.parent();for(var h=J.find("img"),h=m?h:a,q=h.attr("src"),p=t('<div class="rk_cropper"><img src="'+q+'"></div>').css({width:n,height:u,"z-index":12}),q=l.length=0;q<e.length;q++)l[q]=p.clone().insertBefore(a);a.parent().find("div.rk_cropper").find("img").each(function(a){var b=a%s;a=Math.floor(a/s);t(this).css({left:-n*b,top:-u*a})});for(q=0;q<l.length;q++)a=m?f[q]:e[q],a.opacity=m?1:0,l[q].css(a),a.opacity=m?0:1;!Y&&m&&b.children().show();ia(h,"",P("swing"),
m?e:f,d)}function ja(a,b,d,m){B="doing";I="block";P("easeOutCirc");var n=a.parent(),u=a.attr("src"),s,k,f;s=c.blocksize.width;k=c.blocksize.height;f=c.blocksize.bandsize;var e,q;"fade"===b&&P("linear");g.scaled&&"cube"===b&&(b=3>=d?"stripev":"stripeh");switch(b){case "fade":s=g.width;k=g.height;$="linear";switch(d){case 0:e={width:s,height:k,opacity:0};break;case 1:e={width:s,height:k,marginLeft:-s,opacity:0};break;case 2:e={width:s,height:k,marginLeft:s,opacity:0};break;case 3:e={width:s,height:k,
marginTop:-k,opacity:0};break;case 4:e={width:s,height:k,marginTop:k,opacity:0};break;case 5:e={width:0,height:k,marginLeft:-s,opacity:0};break;case 6:e={width:0,height:k,marginLeft:s,opacity:0};break;case 7:e={width:s,height:0,marginTop:-k,opacity:0};break;default:e={width:s,height:0,marginTop:k,opacity:0}}q={width:s,height:k,marginLeft:0,marginTop:0,opacity:1};break;case "cube":switch(d){case 0:e={width:0,height:0,marginLeft:s/2,marginTop:k/2,opacity:0};break;case 1:e={width:0,height:0,marginLeft:-s,
marginTop:-k,opacity:0};break;case 2:e={width:0,height:0,marginLeft:s,marginTop:k,opacity:0};break;case 3:e={width:0,height:0,marginLeft:1.5*s,marginTop:1.5*k,opacity:0};break;case 4:e={width:0,height:0,marginLeft:s,marginTop:0,opacity:0};break;case 5:e={width:0,height:0,marginLeft:0,marginTop:k,opacity:0};break;default:e={width:0,height:0,opacity:0}}q={width:s,height:k,marginLeft:0,marginTop:0,opacity:1};break;case "stripev":k=g.height;s=f;d=g.scaled?0:d;switch(d){case 0:e={width:s,height:k,opacity:0,
marginTop:k};break;case 1:e={width:s,height:k,opacity:0};break;default:e={width:s,height:k/2,opacity:0},P("easeOutBack")}q={marginTop:0,opacity:1};break;case "stripeh":s=g.width;k=f;d=g.scaled?0:d;switch(d){case 0:e={width:s,height:k,opacity:0,marginLeft:s};break;case 1:e={width:s,height:k,opacity:0};break;default:e={width:s/2,height:k,opacity:0},P("easeOutBack")}q={marginLeft:0,opacity:1}}H=t("<div />",{css:{position:"absolute","background-image":"url("+u+")",zid:99}}).css(e).addClass("dispcell");
g.scaled&&H.css({"background-size":"cover"});e=f=u=l.length=0;var h=!0,p=s,r=k;if("stripeh"==b&&2==d)for(;f<g.height;){for(u=0;u<g.width;){var v=H.clone().css({left:u,top:f,backgroundPosition:-u+"px "+-f+"px"});0==u?v.css({marginLeft:-s/2}):v.css({marginLeft:s});l[e]=v;n.append(l[e++]);u+=s/2}f+=k}else for(;u<g.width;){for(f=0;f<g.height;){v=H.clone().css({left:u,top:f,backgroundPosition:-u+"px "+-f+"px"});switch(b){case "stripev":switch(d){case 0:h||v.css({marginTop:-k});h=!h;break;case 2:0==f?v.css({marginTop:-k/
2}):v.css({marginTop:k}),r=k/2}break;case "stripeh":switch(d){case 0:h||v.css({marginLeft:-s}),h=!h}}l[e]=v;n.append(l[e++]);f+=r}u+=p}if(m){b=l;d=[];for(m=b.length-1;0<=m;m--)d.push(b[m]);l=d}else if(c.randomblock)if(2==d&&"cube"!=b){b=l;d=[];m=[];n=Math.floor(b.length/2);for(s=0;s<n;s++)d.push(s);for(;0<d.length;)n=Math.floor(Math.random()*d.length),m.push(b[2*d[n]]),m.push(b[2*d[n]+1]),d.splice(n,1);l=m}else l=za(l);ia(a,q,$)}function eb(a){var b=x.index()>J.index()?1:0;B="doing";P("linear");var d=
a.parent();J.find("img");var c=a.attr("src"),e=g.width/3,n=g.height;I="foldscreen";H=t("<div />",{css:{position:"absolute","background-image":"url("+c+")",zIndex:99,width:e,height:n}}).addClass("dispcell");g.scaled&&H.css({"background-size":"cover"});l.length=0;var c=[],n=[],f=[],k=[];switch(b){case 0:depth=!1;f[0]={backgroundPosition:"0px "};f[1]={backgroundPosition:3*-e+"px "};f[2]={backgroundPosition:3*-e+"px "};c[0]={left:-g.width,width:g.width};c[1]={left:e,width:0};c[2]={left:2*e,width:0};n[0]=
{left:0,width:1.5*e};n[1]={left:e,width:1.3*e,backgroundPosition:-e+"px"};n[2]={left:2*e,width:e,backgroundPosition:2*-e+"px"};break;case 1:f[0]={backgroundPosition:"0px"},f[1]={backgroundPosition:"0px"},f[2]={backgroundPosition:"0px"},c[0]={left:g.width,width:g.width},c[1]={left:2*e,width:0},c[2]={left:e,width:0},n[0]={left:1.5*e,width:1.5*e,backgroundPosition:1.5*-e+"px"},n[1]={left:1*e,width:1*e,backgroundPosition:1*-e+"px"},n[2]={left:0,width:e}}for(b=0;b<f.length;b++)l[b]=H.clone().css(f[b]).css(c[b]);
k[0]={wait:0.1,duration:1.4};k[1]={wait:0.5,duration:1.2};k[2]={wait:0.9,duration:1};for(b=0;b<l.length;b++)d.append(l[b]);Aa(a,$,n,k)}function Pa(a,b){var d=c.effectopt.divct;1>d&&(d=3);var e=x.index()<J.index();P("easeOutBounce");B="doing";var n=a.parent(),f=J.find("img"),q=e?f.attr("src"):a.attr("src"),f=g.width,k=g.height;switch(b){case 0:f/=d;break;case 1:k/=d}I="foldscreen";H=t("<div />",{css:{position:"absolute","background-image":"url("+q+")",zIndex:99,width:f,height:k}}).addClass("dispcell");
g.scaled&&H.css({"background-size":"cover"});l.length=0;var d=[],q=[],h=[],p=[],r=0,v=0;id=0;depth=!1;switch(b){case 0:for(;r<g.width;)h[id]={backgroundPosition:-r+"px "},d[id]={left:r,top:-k,width:f},q[id]={left:r,top:0,width:f},e&&(d[id].top=0,q[id].top=k),id++,r+=f;break;case 1:for(;v<g.height;)h[id]={backgroundPosition:"0px "+-v+"px "},d[id]={top:v,left:-f,height:k},q[id]={top:v,left:0,height:k},e&&(d[id].left=0,q[id].left=f),id++,v+=k}for(f=0;f<h.length;f++)l[f]=H.clone().css(h[f]).css(d[f]),
p[f]={wait:1*f,duration:1};p[0].wait=0.1;for(f=0;f<l.length;f++)n.append(l[f]);e&&(J.children().hide(),x.children().show());Aa(a,$,q,p)}function fb(a){var b=x.index()<J.index();P("easeOutBounce");B="doing";var d=a.parent(),c=J.find("img"),e=b?a.attr("src"):c.attr("src"),c=g.width/2,f=g.height/2;I="foldscreen";H=t("<div />",{css:{position:"absolute","background-image":"url("+e+")",zIndex:99,width:c,height:f}}).addClass("dispcell");g.scaled&&H.css({"background-size":"cover"});l.length=0;var e=[],n=
[],k=[],q=[],h=0,p=0;for(id=0;h<g.width;){for(p=0;p<g.height;)k[id]={backgroundPosition:-h+"px "+-p+"px "},e[id]={left:h,top:p},p+=f,id++;h+=c}n[0]={left:-c,top:-f};n[1]={left:-c,top:2*f};n[2]={left:2*c,top:-f};n[3]={left:2*c,top:2*f};for(c=0;c<k.length;c++)l[c]=b?H.clone().css(k[c]).css(n[c]):H.clone().css(k[c]).css(e[c]),q[c]={wait:0.1,duration:1};for(c=0;c<l.length;c++)d.append(l[c]);b||(J.children().hide(),x.children().show());Aa(a,$,b?e:n,q)}function Aa(a,b,d,e){for(var f=0,n=!1,g=1.5*c.transitduration,
k=[],q=0,h=0;h<l.length;h++)k[h]=setInterval(function(){clearInterval(k[q]);var c=d[q],h=g*e[q].duration;l[q].stop(!0,!0).animate(c,{duration:h,easing:b,complete:function(){!n&&(++f>=l.length||"doing"!=B)&&(n=!0,W(a))}});q++},g*e[h].wait)}function P(a){return $=0===c.transit.easing.length?a:c.transit.easing}function za(a){for(var b=[],d=[],c=0;c<a.length;c++)b.push(c);for(;0<b.length;)c=Math.floor(Math.random()*b.length),d.push(a[b[c]]),b.splice(c,1);return d}function Da(a){if(c.showbutton){a||(ra=
t('<div class="rk_navi_btn rk_navi_prev"  data-dir="-1"></div>').appendTo(G),Sa=t('<div class="rk_navi_btn rk_navi_next"  data-dir="1"></div>').appendTo(G));a=G.find(".rk_navi_btn");var b=ra.outerWidth(),d=ra.outerHeight();a.css({width:b,height:d,top:(g.height-d)/2});a.on("click",function(){p(x.index()+t(this).data("dir"))})}}function Ta(a){if(c.autohidectrl&&null!=z){var b=ca.y;a?"auto"===z.css("top")&&z.css("top",b):b=isNaN(c.controllerpos.bottom)?-ca.h:g.height+ca.h;z.animate({top:b,opacity:a?
1:0});va&&O&&(a?O.stop(!0,!0).fadeIn("slow"):O.stop(!0,!0).fadeOut("fast"))}}function sa(a){function b(a,b){var d=b?0:-(a.outerWidth()+5),d=-1===a.data("dir")?{left:d}:{right:d};a.stop().animate(d,"fast")}if(c.showbutton){var d=x.index();Ja=a;b(ra,a&&0<d);b(Sa,a&&d<q.length-1);ga&&Ta(a)}}function Ia(a,b){switch(b){case "_blank":e.open(a);break;default:location.href=a}}function Ha(a,b){b%=360;0>b&&(b=360+b);var d=b*Math.PI/180,c=Math.cos(d),d=Math.sin(d);a.css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+
c+",M12="+-d+",M21="+d+",M22="+c+",FilterType='bilinear',sizingMethod='auto expand')")}var ea=v;c.autohidectrl&&(ea=t('<div class="rk_ctrl_hider"></div>'),ea.insertBefore(G),ea.css({width:v.width(),height:v.height(),position:"absolute",overflow:"hidden"}));v.css("visibility","visible");Ca(!1);Da(!1);Ea(ea,c.controllerpos,!1);hb.on({mousemove:function(a){var b=G.offset(),d=a.pageX-b.left;a=a.pageY-b.top;d=0<=d&&d<=g.width&&0<=a&&a<=ha;d!=ta&&(ta=d,ga||Ta(d),sa(d),d||ma())}});if("thumb"===c.controller)D.on({mouseover:function(a){},
mouseout:function(a){}});y(!1);p(0);Ua=v.outerWidth();ha=v.outerHeight();c.responsive&&v.resizer({callback:n,width:Ua,height:ha});(function(){var a="ghr/moc.tfosikiwikio".split("").reverse().join("");if("o"!==a[0]||c.showversion){a[0]="w";var b=t('<div class="rk_wiki" title="Created by \u697d\u3005HTML5\u30ae\u30e3\u30e9\u30ea\u30fc">'+(c.showversion?f:"&#63;")+"</div>").appendTo(v);b.css({position:"absolute",color:"white",left:0,top:-2,cursor:"pointer","z-index":1E4,"text-shadow":"rgba(0,0,0,0.40) 1px 1px 0"});
b.on("click",function(){Ia("http://"+a,"_blank")})}})();if(null!==c.toggleslide)c.toggleslide.on("click",function(){(Q=!Q)&&p(x.index()+1)});if(null!==c.stopslide)c.stopslide.on("click",function(){Q=!1;0<K&&clearTimeout(K)});if(null!==c.playslide)c.playslide.on("click",function(){Q=!0;p(x.index()+1)})}var f="rakslider 1.0.0",c=t.extend({slideall:!1,effectseq:[],effectgrp:[],slideshow_interval:4E3,width:600,height:300,blocksize:{width:100,height:100,bandsize:30},thumb:{width:100,height:50,titleheight:10},
transitduration:1E3,transit:{accel:2,easing:""},autoslideshow:!1,autoslidepause:0,autopause_interval:3E4,randomblock:!1,cmteffect:"up",cmtwidth:0.6,controller:"thumb",controllerpos:{right:10,top:10,centerx:!0,ratio:1},autohidectrl:!1,effectopt:{divct:3},showthumbtitle:!1,thumbtitleoffset:0,thumbspeed:300,thumbborderwidth:2,thumbbordercolor:"#EFEFEF",thumbporaloid:!1,showbutton:!1,showbanner:!1,progress:!1,responsive:!1,minscale:0.3,mouseflick:!0,identifier:"1",toggleslide:null,playslide:null,stopslide:null,
progtext:"Now Reading.",showversion:!1,callback:function(){}},p),g={width:c.width,height:c.height,ctrl_initwidth:c.width,curscale:1,scaled:!1,inscaling:!1},v=t(this),G=v.find("div.rk_slides"),L=G.find("ul"),q=L.find("li"),ua=q.find("img"),D=v.find("div.rk_thumb"),N=D.children("ul"),A=N.find("li"),V=A.find("img"),z=null,O=null,E=null,ca,Z,x=q.eq(1).toggleClass("active"),J=q.eq(0).addClass("reset"),H,l=[],R=[],K,ka,Q=c.autoslideshow,Ba,wa=-1,$,aa=[],C,La,Ma,ba,M,Y=!0,ra,Sa,Ja=!1,ta=!1;p=navigator.userAgent;
var ga=-1!=p.search(/iPhone/)||-1!=p.search(/iPad/)||-1!=p.search(/iPod/)||-1!=p.search(/Android/),B="none",la=[{eft:"fade",num:1},{eft:"shift",num:8},{eft:"door",num:2},{eft:"stripe",num:6},{eft:"cube",num:7},{eft:"dropblock",num:9},{eft:"popblock",num:4},{eft:"foldscreenh",num:2},{eft:"foldscreenv",num:2},{eft:"shiftscreen",num:1},{eft:"divparts",num:1},{eft:"divpartsh",num:1},{eft:"divcorner",num:1},{eft:"none",num:1}],ya=[],qa=0,hb=t("html"),ha=g.height,Ua=g.width,da=!1,U=-1,da=-1!=p.search(/MSIE/),
U=-1;da&&(U=-1!=p.search(/MSIE 10/)?10:-1!=p.search(/MSIE 9/)?9:-1!=p.search(/MSIE 8/)?8:-1!=p.search(/MSIE 7/)?7:-1!=p.search(/MSIE 6/)?6:10);var F=5<=U&&8>=U,va=!1,na=[],T=c.showbanner&&isNaN(c.controllerpos.bottom)?150:0,X=null;(function(){function e(c){var f=0,n=0;t.each(c,function(e){for(var g=0;g<la.length;g++)if(obj=la[g],obj.eft===c[e]){ya[f++]={eft:obj.eft,num:obj.num,topid:n,id:0,invert:!1};n+=obj.num;break}});return n}for(var f=0;f<c.effectgrp.length;f++){if("slideall"===c.effectgrp[f]){c.slideall=
!0;break}if("random"===c.effectgrp[f]){c.effectgrp=[];break}}0<c.effectgrp.length&&(qa=e(c.effectgrp));0===qa&&(qa=e("fade shift door stripe cube dropblock popblock foldscreenh foldscreenv shiftscreen divparts divpartsh divcorner none".split(" ")))})();var oa,I=c.slideall?"shift":"block";da&&(8>U&&(c.autohidectrl=!1),8>=U&&(c.thumbporaloid=!1));c.progress?(h(v),A.rakimgloader({elmbar:X,callback:n,progtext:c.progtext})):n()}})(jQuery,window,document);
jQuery.extend(jQuery.easing,{easeInOutExpo:function(t,e,h,r,p){return 0==e?h:e==p?h+r:1>(e/=p/2)?r/2*Math.pow(2,10*(e-1))+h:r/2*(-Math.pow(2,-10*--e)+2)+h},easeOutCirc:function(t,e,h,r,p){return r*Math.sqrt(1-(e=e/p-1)*e)+h},easeOutElastic:function(t,e,h,r,p){t=Math.PI/2;var y=1.70158,n=0,f=r;if(0==e)return h;if(1==(e/=p))return h+r;n||(n=0.3*p);f<Math.abs(r)?(f=r,y=n/4):y=n/t*Math.asin(r/f);return f*Math.pow(2,-10*e)*Math.sin((e*p-y)*t/n)+r+h},easeOutBack:function(t,e,h,r,p,y){void 0==y&&(y=1.70158);
return r*((e=e/p-1)*e*((y+1)*e+y)+1)+h},easeOutBounce:function(t,e,h,r,p){return(e/=p)<1/2.75?r*7.5625*e*e+h:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+0.75)+h:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+0.9375)+h:r*(7.5625*(e-=2.625/2.75)*e+0.984375)+h}});
(function(t){t.fn.rakimgloader=function(e){function h(c){r.progtext.length&&g.text(r.progtext+"... "+c+" %")}var r=t.extend({elmbar:null,callback:t.noop,progtext:"Now reading.",timeout:500},e),p=this.find("img"),y=[],n=new Date,f=0,c=r.elmbar,g=null,v=null;null!==c&&(r.progtext.length&&(g=c.find(".rak_progtext"),h(0)),v=c.find("span").width(1));p.each(function(){y.push(this)});setTimeout(function(){0<r.timeout&&new Date-n>r.timeout&&(y.length=0);for(var e=y.length;0<e--;)if(y[e].complete||"complete"===
y[e].readyState){y.splice(e,1);var g=Math.ceil(100*(++f/p.length));h(g);v.length&&v.width(g+"%")}0===y.length?(null!==c&&(h(100),v.length&&v.width("100%"),c.animate({opacity:0},300)),t.proxy(r.callback,self)()):setTimeout(arguments.callee,60)},100);return this}})(jQuery);
(function(t){t.fn.resizer=function(e){var h=this,r=t.extend({},{callback:t.noop,width:600,height:400,minWidth:600,minHeight:400},e),p=1;t(window).resize(function(){var e=t(window).width()-20,n=t(window).height()-60,f=Math.min(e/r.width,n/r.height),f=Math.min(1,f);if(10>e||10>n||e>=r.width&&n>=r.height&&f===p)return!1;p!=f&&(p=f,t.proxy(r.callback,h)(e,n,f))}).resize();return this}})(jQuery);
(function(t){t.fn.rakWipe=function(e){var h={min_movex:5,min_movey:5,wipeStart:null,wipeMove:t.noop,wipeEnd:t.noop,mouseEvents:!0};e&&t.extend(h,e);var r=this;this.each(function(){function e(f){f&&(this.removeEventListener("touchmove",c),this.removeEventListener("touchend",g));G=v=null;L=!1}function y(c,e){c.preventDefault();L&&(G=e?{X:c.touches[0].pageX,Y:c.touches[0].pageY}:{X:c.pageX,Y:c.pageY},(Math.abs(v.X-G.X)>=h.min_movex||Math.abs(v.Y-G.Y)>=h.min_movey)&&h.wipeMove(v,G,r,c))}function n(e,
f){e.preventDefault();G=v=f?{X:e.touches[0].pageX,Y:e.touches[0].pageY}:{X:e.pageX,Y:e.pageY};r.startTime=e.timeStamp;L=jQuery.isFunction(h.wipeStart)?h.wipeStart(v,G,r,e):!0;f&&(this.addEventListener("touchmove",c,!1),this.addEventListener("touchend",g,!1))}function f(c){1===c.touches.length&&n(c,!0)}function c(c){y(c,!0)}function g(c){c.preventDefault();L&&h.wipeEnd(v,G,r,c);e(!0)}var v,G,L=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",f,!1);if(h.mouseEvents)t(r).on({mousedown:function(c){n(c,
!1)},mousemove:function(c){y(c,!1)},"mouseup mouseout":function(c){c.preventDefault();L&&h.wipeEnd(v,G,r,c);e(!1)}})});return this}})(jQuery);
(function(t){for(var e,h=document.getElementsByTagName("head")[0].style,r=["transformProperty","WebkitTransform","OTransform","msTransform","MozTransform"],p=0;p<r.length;p++)void 0!==h[r[p]]&&(e=r[p]);var y=eval('"v"=="\v"');jQuery.fn.extend({rotate:function(e){if(0!==this.length&&"undefined"!=typeof e){"number"==typeof e&&(e={angle:e});for(var f=[],c=0,g=this.length;c<g;c++){var h=this.get(c);if(h.Wilq32&&h.Wilq32.PhotoEffect)h.Wilq32.PhotoEffect._handleRotation(e);else{var p=t.extend(!0,{},e),
h=(new Wilq32.PhotoEffect(h,p))._rootObj;f.push(t(h))}}return f}},getRotateAngle:function(){for(var e=[],f=0,c=this.length;f<c;f++){var g=this.get(f);g.Wilq32&&g.Wilq32.PhotoEffect&&(e[f]=g.Wilq32.PhotoEffect._angle)}return e},stopRotate:function(){for(var e=0,f=this.length;e<f;e++){var c=this.get(e);c.Wilq32&&c.Wilq32.PhotoEffect&&clearTimeout(c.Wilq32.PhotoEffect._timer)}}});Wilq32=window.Wilq32||{};Wilq32.PhotoEffect=function(){return e?function(e,f){e.Wilq32={PhotoEffect:this};this._img=this._rootObj=
this._eventObj=e;this._handleRotation(f)}:function(e,f){this._img=e;this._rootObj=document.createElement("span");this._rootObj.style.display="inline-block";this._rootObj.Wilq32={PhotoEffect:this};e.parentNode.insertBefore(this._rootObj,e);if(e.complete)this._Loader(f);else{var c=this;jQuery(this._img).bind("load",function(){c._Loader(f)})}}}();Wilq32.PhotoEffect.prototype={_setupParameters:function(e){this._parameters=this._parameters||{};"number"!==typeof this._angle&&(this._angle=0);"number"===
typeof e.angle&&(this._angle=e.angle);this._parameters.animateTo="number"===typeof e.animateTo?e.animateTo:this._angle;this._parameters.step=e.step||this._parameters.step||null;this._parameters.easing=e.easing||this._parameters.easing||function(e,c,g,n,h){return-n*((c=c/h-1)*c*c*c-1)+g};this._parameters.duration=e.duration||this._parameters.duration||1E3;this._parameters.callback=e.callback||this._parameters.callback||function(){};e.bind&&e.bind!=this._parameters.bind&&this._BindEvents(e.bind)},_handleRotation:function(e){this._setupParameters(e);
this._angle==this._parameters.animateTo?this._rotate(this._angle):this._animateStart()},_BindEvents:function(e){if(e&&this._eventObj){if(this._parameters.bind){var f=this._parameters.bind,c;for(c in f)f.hasOwnProperty(c)&&jQuery(this._eventObj).unbind(c,f[c])}this._parameters.bind=e;for(c in e)e.hasOwnProperty(c)&&jQuery(this._eventObj).bind(c,e[c])}},_Loader:function(){return y?function(e){var f=this._img.width,c=this._img.height;this._img.parentNode.removeChild(this._img);this._vimage=this.createVMLNode("image");
this._vimage.src=this._img.src;this._vimage.style.height=c+"px";this._vimage.style.width=f+"px";this._vimage.style.position="absolute";this._vimage.style.top="0px";this._vimage.style.left="0px";this._container=this.createVMLNode("group");this._container.style.width=f;this._container.style.height=c;this._container.style.position="absolute";this._container.setAttribute("coordsize",f-1+","+(c-1));this._container.appendChild(this._vimage);this._rootObj.appendChild(this._container);this._rootObj.style.position=
"relative";this._rootObj.style.width=f+"px";this._rootObj.style.height=c+"px";this._rootObj.setAttribute("id",this._img.getAttribute("id"));this._rootObj.className=this._img.className;this._eventObj=this._rootObj;this._handleRotation(e)}:function(e){this._rootObj.setAttribute("id",this._img.getAttribute("id"));this._rootObj.className=this._img.className;this._width=this._img.width;this._height=this._img.height;this._widthHalf=this._width/2;this._heightHalf=this._height/2;var f=Math.sqrt(this._height*
this._height+this._width*this._width);this._widthAdd=f-this._width;this._heightAdd=f-this._height;this._widthAddHalf=this._widthAdd/2;this._heightAddHalf=this._heightAdd/2;this._img.parentNode.removeChild(this._img);this._aspectW=(parseInt(this._img.style.width,10)||this._width)/this._img.width;this._aspectH=(parseInt(this._img.style.height,10)||this._height)/this._img.height;this._canvas=document.createElement("canvas");this._canvas.setAttribute("width",this._width);this._canvas.style.position="relative";
this._canvas.style.left=-this._widthAddHalf+"px";this._canvas.style.top=-this._heightAddHalf+"px";this._canvas.Wilq32=this._rootObj.Wilq32;this._rootObj.appendChild(this._canvas);this._rootObj.style.width=this._width+"px";this._rootObj.style.height=this._height+"px";this._eventObj=this._canvas;this._cnv=this._canvas.getContext("2d");this._handleRotation(e)}}(),_animateStart:function(){this._timer&&clearTimeout(this._timer);this._animateStartTime=+new Date;this._animateStartAngle=this._angle;this._animate()},
_animate:function(){var e=+new Date,f=e-this._animateStartTime>this._parameters.duration;if(f&&!this._parameters.animatedGif)clearTimeout(this._timer);else{if(this._canvas||this._vimage||this._img)e=this._parameters.easing(0,e-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration),this._rotate(~~(10*e)/10);this._parameters.step&&this._parameters.step(this._angle);var c=this;this._timer=setTimeout(function(){c._animate.call(c)},
10)}this._parameters.callback&&f&&(this._angle=this._parameters.animateTo,this._rotate(this._angle),this._parameters.callback.call(this._rootObj))},_rotate:function(){var h=Math.PI/180;return y?function(e){this._angle=e;this._container.style.rotation=e%360+"deg"}:e?function(f){this._angle=f;this._img.style[e]="rotate("+f%360+"deg)"}:function(e){this._angle=e;e=e%360*h;this._canvas.width=this._width+this._widthAdd;this._canvas.height=this._height+this._heightAdd;this._cnv.translate(this._widthAddHalf,
this._heightAddHalf);this._cnv.translate(this._widthHalf,this._heightHalf);this._cnv.rotate(e);this._cnv.translate(-this._widthHalf,-this._heightHalf);this._cnv.scale(this._aspectW,this._aspectH);this._cnv.drawImage(this._img,0,0)}}()};y&&(Wilq32.PhotoEffect.prototype.createVMLNode=function(){document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{return!document.namespaces.rvml&&document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<rvml:"+
e+' class="rvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}())})(jQuery);
